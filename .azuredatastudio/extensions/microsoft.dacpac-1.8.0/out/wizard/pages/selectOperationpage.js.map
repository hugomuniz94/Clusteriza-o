{"version":3,"file":"selectOperationpage.js","sourceRoot":"../../../src","sources":["wizard/pages/selectOperationpage.ts"],"names":[],"mappings":"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","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the Source EULA. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as azdata from 'azdata';\nimport * as loc from '../../localizedConstants';\nimport { DacFxDataModel } from '../api/models';\nimport { DataTierApplicationWizard, Operation, DeployOperationPath, ExtractOperationPath, ImportOperationPath, ExportOperationPath, PageName } from '../dataTierApplicationWizard';\nimport { BasePage } from '../api/basePage';\n\nexport class SelectOperationPage extends BasePage {\n\tprivate deployRadioButton: azdata.RadioButtonComponent;\n\tprivate extractRadioButton: azdata.RadioButtonComponent;\n\tprivate importRadioButton: azdata.RadioButtonComponent;\n\tprivate exportRadioButton: azdata.RadioButtonComponent;\n\tprivate form: azdata.FormContainer;\n\n\tpublic constructor(instance: DataTierApplicationWizard, wizardPage: azdata.window.WizardPage, model: DacFxDataModel, view: azdata.ModelView) {\n\t\tsuper(instance, wizardPage, model, view);\n\t}\n\n\tasync start(): Promise<boolean> {\n\t\tlet deployComponent = await this.createDeployRadioButton();\n\t\tlet extractComponent = await this.createExtractRadioButton();\n\t\tlet importComponent = await this.createImportRadioButton();\n\t\tlet exportComponent = await this.createExportRadioButton();\n\n\t\tthis.form = this.view.modelBuilder.formContainer()\n\t\t\t.withFormItems(\n\t\t\t\t[\n\t\t\t\t\tdeployComponent,\n\t\t\t\t\textractComponent,\n\t\t\t\t\timportComponent,\n\t\t\t\t\texportComponent\n\t\t\t\t], {\n\t\t\t\thorizontal: true\n\t\t\t}).component();\n\t\tawait this.view.initializeModel(this.form);\n\n\t\tthis.deployRadioButton.focus();\n\t\tthis.instance.setDoneButton(Operation.deploy);\n\t\treturn true;\n\t}\n\n\tasync onPageEnter(): Promise<boolean> {\n\t\treturn true;\n\t}\n\n\tprivate async createDeployRadioButton(): Promise<azdata.FormComponent> {\n\t\tthis.deployRadioButton = this.view.modelBuilder.radioButton()\n\t\t\t.withProperties({\n\t\t\t\tname: 'selectedOperation',\n\t\t\t\tlabel: loc.deployDescription,\n\t\t\t\tchecked: true // Default to first radio button being selected\n\t\t\t}).component();\n\n\t\tthis.deployRadioButton.onDidClick(() => {\n\t\t\tthis.removePages();\n\n\t\t\t//add deploy pages\n\t\t\tlet configPage = this.instance.pages.get(PageName.deployConfig);\n\t\t\tthis.instance.wizard.addPage(configPage.wizardPage, DeployOperationPath.deployOptions);\n\t\t\tlet deployPlanPage = this.instance.pages.get(PageName.deployPlan);\n\t\t\tthis.instance.wizard.addPage(deployPlanPage.wizardPage, DeployOperationPath.deployPlan);\n\t\t\tthis.addSummaryPage(DeployOperationPath.summary);\n\n\t\t\t// change button text and operation\n\t\t\tthis.instance.setDoneButton(Operation.deploy);\n\t\t});\n\n\t\treturn {\n\t\t\tcomponent: this.deployRadioButton,\n\t\t\ttitle: ''\n\t\t};\n\t}\n\n\tprivate async createExtractRadioButton(): Promise<azdata.FormComponent> {\n\t\tthis.extractRadioButton = this.view.modelBuilder.radioButton()\n\t\t\t.withProperties({\n\t\t\t\tname: 'selectedOperation',\n\t\t\t\tlabel: loc.extractDescription,\n\t\t\t}).component();\n\n\t\tthis.extractRadioButton.onDidClick(() => {\n\t\t\tthis.removePages();\n\n\t\t\t// add the extract page\n\t\t\tlet page = this.instance.pages.get(PageName.extractConfig);\n\t\t\tthis.instance.wizard.addPage(page.wizardPage, ExtractOperationPath.options);\n\t\t\tthis.addSummaryPage(ExtractOperationPath.summary);\n\n\t\t\t// change button text and operation\n\t\t\tthis.instance.setDoneButton(Operation.extract);\n\t\t});\n\n\t\treturn {\n\t\t\tcomponent: this.extractRadioButton,\n\t\t\ttitle: ''\n\t\t};\n\t}\n\n\tprivate async createImportRadioButton(): Promise<azdata.FormComponent> {\n\t\tthis.importRadioButton = this.view.modelBuilder.radioButton()\n\t\t\t.withProperties({\n\t\t\t\tname: 'selectedOperation',\n\t\t\t\tlabel: loc.importDescription,\n\t\t\t}).component();\n\n\t\tthis.importRadioButton.onDidClick(() => {\n\t\t\tthis.removePages();\n\n\t\t\t// add the import page\n\t\t\tlet page = this.instance.pages.get(PageName.importConfig);\n\t\t\tthis.instance.wizard.addPage(page.wizardPage, ImportOperationPath.options);\n\t\t\tthis.addSummaryPage(ImportOperationPath.summary);\n\n\t\t\t// change button text and operation\n\t\t\tthis.instance.setDoneButton(Operation.import);\n\t\t});\n\n\t\treturn {\n\t\t\tcomponent: this.importRadioButton,\n\t\t\ttitle: ''\n\t\t};\n\t}\n\n\tprivate async createExportRadioButton(): Promise<azdata.FormComponent> {\n\t\tthis.exportRadioButton = this.view.modelBuilder.radioButton()\n\t\t\t.withProperties({\n\t\t\t\tname: 'selectedOperation',\n\t\t\t\tlabel: loc.exportDescription,\n\t\t\t}).component();\n\n\t\tthis.exportRadioButton.onDidClick(() => {\n\t\t\tthis.removePages();\n\n\t\t\t// add the export pages\n\t\t\tlet page = this.instance.pages.get(PageName.exportConfig);\n\t\t\tthis.instance.wizard.addPage(page.wizardPage, ExportOperationPath.options);\n\t\t\tthis.addSummaryPage(ExportOperationPath.summary);\n\n\t\t\t// change button text and operation\n\t\t\tthis.instance.setDoneButton(Operation.export);\n\t\t});\n\n\t\treturn {\n\t\t\tcomponent: this.exportRadioButton,\n\t\t\ttitle: ''\n\t\t};\n\t}\n\n\tprivate removePages() {\n\t\tlet numPages = this.instance.wizard.pages.length;\n\t\tfor (let i = numPages - 1; i > 0; --i) {\n\t\t\tthis.instance.wizard.removePage(i);\n\t\t}\n\t}\n\n\tprivate addSummaryPage(index: number) {\n\t\tlet summaryPage = this.instance.pages.get(PageName.summary);\n\t\tthis.instance.wizard.addPage(summaryPage.wizardPage, index);\n\t}\n\n\tpublic setupNavigationValidator(): void {\n\t\tthis.instance.registerNavigationValidator(() => {\n\t\t\treturn true;\n\t\t});\n\t}\n}\n"]}