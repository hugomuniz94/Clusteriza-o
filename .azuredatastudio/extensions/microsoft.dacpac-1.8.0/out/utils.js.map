{"version":3,"file":"utils.js","sourceRoot":"../src","sources":["utils.ts"],"names":[],"mappings":";AAAA;;;gGAGgG;;;AAEhG,yBAAyB;AAQzB,SAAgB,cAAc,CAAC,WAAgB;IAC9C,IAAI,WAAW,EAAE;QAChB,OAAO;YACN,IAAI,EAAE,WAAW,CAAC,IAAI;YACtB,OAAO,EAAE,WAAW,CAAC,OAAO;YAC5B,KAAK,EAAE,WAAW,CAAC,KAAK;SACxB,CAAC;KACF;IAED,OAAO,SAAS,CAAC;AAClB,CAAC;AAVD,wCAUC;AAED;;;;GAIG;AACI,KAAK,UAAU,cAAc,CAAC,GAAW;IAC/C,IAAI;QACH,MAAM,KAAK,GAAG,MAAM,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC1C,OAAO,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,IAAI,CAAC;KACnB;IACD,OAAO,CAAC,EAAE;QACT,OAAO,SAAS,CAAC;KACjB;AACF,CAAC;AARD,wCAQC","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the Source EULA. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as fs from 'fs';\n\nexport interface IPackageInfo {\n\tname: string;\n\tversion: string;\n\taiKey: string;\n}\n\nexport function getPackageInfo(packageJson: any): IPackageInfo | undefined {\n\tif (packageJson) {\n\t\treturn {\n\t\t\tname: packageJson.name,\n\t\t\tversion: packageJson.version,\n\t\t\taiKey: packageJson.aiKey\n\t\t};\n\t}\n\n\treturn undefined;\n}\n\n/**\n * Get file size from the file stats using the file path uri\n * If the file does not exists, purposely returning undefined instead of throwing an error for telemetry purpose.\n * @param uri The file path\n */\nexport async function tryGetFileSize(uri: string): Promise<number | undefined> {\n\ttry {\n\t\tconst stats = await fs.promises.stat(uri);\n\t\treturn stats?.size;\n\t}\n\tcatch (e) {\n\t\treturn undefined;\n\t}\n}\n"]}